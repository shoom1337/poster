/**
 * /start command handler
 */
import { CommandContext, InlineKeyboard } from 'grammy';
import { logger } from '../../utils/logger.js';

export async function startCommand(ctx: CommandContext<any>) {
  const userId = ctx.from?.id;
  logger.info('Start command', { userId });

  const message =
    'üëã **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–π –¥–ª—è Telegram**\n\n' +
    '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ –≤ –≤–∞—à–∏—Ö Telegram-–∫–∞–Ω–∞–ª–∞—Ö.\n\n' +
    '**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**\n' +
    '‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å —Ç–µ–∫—Å—Ç–æ–º, –º–µ–¥–∏–∞ (–¥–æ 10 —Ñ–∞–π–ª–æ–≤) –∏ –∫–Ω–æ–ø–∫–∞–º–∏\n' +
    '‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n' +
    '‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤\n' +
    '‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π\n' +
    '‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–Ω–æ—Å –ø–æ—Å—Ç–æ–≤\n' +
    '‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏\n\n' +
    '**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**\n' +
    '1Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\n' +
    '2Ô∏è‚É£ –ü–µ—Ä–µ—à–ª–∏—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ –±–æ—Ç—É\n' +
    '3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é" –Ω–∏–∂–µ\n\n' +
    '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.';

  const keyboard = new InlineKeyboard()
    .text('üìù –°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é', 'quick_newpost')
    .row()
    .text('üìã –ß–µ—Ä–Ω–æ–≤–∏–∫–∏', 'quick_drafts')
    .text('üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ', 'quick_schedule')
    .row()
    .text('‚öôÔ∏è –ö–∞–Ω–∞–ª—ã', 'quick_channels')
    .text('‚ùì –°–ø—Ä–∞–≤–∫–∞', 'quick_help');

  await ctx.reply(message, {
    parse_mode: 'Markdown',
    reply_markup: keyboard
  });
}
